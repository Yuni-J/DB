SQL에서 WHERE과 HAVING 절은 모두 조건을 필터링하는 데 사용되지만, 그 적용 범위와 사용 목적에는 차이가 있습니다. 아래에서 각각의 절에 대해 설명하겠습니다:

WHERE 절
용도: WHERE 절은 쿼리의 초기 단계에서 행을 필터링합니다. 이는 데이터가 테이블에서 조회되기 전에 조건에 맞는 행을 선택하는 데 사용됩니다.
적용 대상: WHERE 절은 SELECT, UPDATE, DELETE 문에서 사용될 수 있습니다. 조건은 일반적으로 원시 데이터(즉, 테이블의 각 행)에 대해 적용됩니다.
집계 함수 사용: WHERE 절에서는 집계 함수(SUM, COUNT, AVG 등)를 사용할 수 없습니다. 집계 함수는 GROUP BY 절에서 그룹화된 데이터에 대해 계산됩니다.
예제:

sql
코드 복사
SELECT *
FROM employees
WHERE salary > 50000;
이 쿼리는 salary가 50,000 이상인 직원들을 선택합니다.

HAVING 절
용도: HAVING 절은 GROUP BY 절과 함께 사용되며, 집계 함수의 결과를 기반으로 그룹화된 데이터에 조건을 적용합니다. 즉, 그룹화된 후의 데이터에 대해 조건을 필터링합니다.
적용 대상: HAVING 절은 GROUP BY와 함께 사용되며, 그룹화된 결과에 조건을 적용합니다. 집계 함수의 결과를 필터링할 때 사용됩니다.
집계 함수 사용: HAVING 절에서는 집계 함수를 사용할 수 있습니다. 그룹화된 데이터에 대해 집계 함수를 적용한 후, 그 결과를 기준으로 추가적인 필터링을 수행할 수 있습니다.
예제:

sql
코드 복사
SELECT department, COUNT(*)
FROM employees
GROUP BY department
HAVING COUNT(*) > 10;
이 쿼리는 부서별 직원 수를 세고, 직원 수가 10명 이상인 부서만 선택합니다.

정리
WHERE: 원시 데이터에 대해 조건을 적용. GROUP BY 전에 적용됨.
HAVING: 그룹화된 데이터에 대해 조건을 적용. GROUP BY 후에 적용됨.
이 두 절은 함께 사용할 수 있으며, WHERE 절로 데이터의 범위를 좁힌 후, HAVING 절로 그룹화된 결과에 대해 추가적인 필터링을 적용하는 경우가 많습니다.